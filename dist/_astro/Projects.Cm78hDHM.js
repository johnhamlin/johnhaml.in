import{j as c}from"./jsx-runtime.BUb10OAt.js";import{S as Y}from"./SectionHeading.CZSvFjng.js";import{r as v}from"./index.D3AB4DJv.js";import{t as m,w as L,r as X,p as K,x as _,y as R,g as $,z as J,A as Q,B as q,C as Z,u as z,D as V,E as ee,F as p,M as te,I as E,m as se}from"./proxy.B4vRcEzK.js";import{u as ne}from"./useSectionInView.B_UwrnbQ.js";import"./active-section.l8uny1YW.js";function D(e,t){let n;const s=()=>{const{currentTime:r}=t,l=(r===null?0:r.value)/100;n!==l&&e(l),n=l};return m.update(s,!0),()=>L(s)}const w=new WeakMap;let h;function re(e,t){if(t){const{inlineSize:n,blockSize:s}=t[0];return{width:n,height:s}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function oe({target:e,contentRect:t,borderBoxSize:n}){var s;(s=w.get(e))===null||s===void 0||s.forEach(r=>{r({target:e,contentSize:t,get size(){return re(e,n)}})})}function le(e){e.forEach(oe)}function ie(){typeof ResizeObserver>"u"||(h=new ResizeObserver(le))}function ce(e,t){h||ie();const n=X(e);return n.forEach(s=>{let r=w.get(s);r||(r=new Set,w.set(s,r)),r.add(t),h?.observe(s)}),()=>{n.forEach(s=>{const r=w.get(s);r?.delete(t),r?.size||h?.unobserve(s)})}}const y=new Set;let x;function ae(){x=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};y.forEach(n=>n(t))},window.addEventListener("resize",x)}function ue(e){return y.add(e),x||ae(),()=>{y.delete(e),!y.size&&x&&(x=void 0)}}function fe(e,t){return typeof e=="function"?ue(e):ce(e,t)}const de=50,W=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),he=()=>({time:0,x:W(),y:W()}),me={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function M(e,t,n,s){const r=n[t],{length:o,position:l}=me[t],i=r.current,a=n.time;r.current=e[`scroll${l}`],r.scrollLength=e[`scroll${o}`]-e[`client${o}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=K(0,r.scrollLength,r.current);const f=s-a;r.velocity=f>de?0:_(r.current-i,f)}function ge(e,t,n){M(e,"x",t,n),M(e,"y",t,n),t.time=n}function pe(e,t){const n={x:0,y:0};let s=e;for(;s&&s!==t;)if(s instanceof HTMLElement)n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const r=s.getBoundingClientRect();s=s.parentElement;const o=s.getBoundingClientRect();n.x+=r.left-o.left,n.y+=r.top-o.top}else if(s instanceof SVGGraphicsElement){const{x:r,y:o}=s.getBBox();n.x+=r,n.y+=o;let l=null,i=s.parentNode;for(;!l;)i.tagName==="svg"&&(l=i),i=s.parentNode;s=l}else break;return n}const k={start:0,center:.5,end:1};function N(e,t,n=0){let s=0;if(e in k&&(e=k[e]),typeof e=="string"){const r=parseFloat(e);e.endsWith("px")?s=r:e.endsWith("%")?e=r/100:e.endsWith("vw")?s=r/100*document.documentElement.clientWidth:e.endsWith("vh")?s=r/100*document.documentElement.clientHeight:e=r}return typeof e=="number"&&(s=t*e),n+s}const ve=[0,0];function xe(e,t,n,s){let r=Array.isArray(e)?e:ve,o=0,l=0;return typeof e=="number"?r=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?r=e.split(" "):r=[e,k[e]?e:"0"]),o=N(r[0],n,s),l=N(r[1],t),o-l}const we={All:[[0,0],[1,1]]},ye={x:0,y:0};function be(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function Ee(e,t,n){const{offset:s=we.All}=n,{target:r=e,axis:o="y"}=n,l=o==="y"?"height":"width",i=r!==e?pe(r,e):ye,a=r===e?{width:e.scrollWidth,height:e.scrollHeight}:be(r),f={width:e.clientWidth,height:e.clientHeight};t[o].offset.length=0;let d=!t[o].interpolate;const b=s.length;for(let u=0;u<b;u++){const H=xe(s[u],f[l],a[l],i[o]);!d&&H!==t[o].interpolatorOffsets[u]&&(d=!0),t[o].offset[u]=H}d&&(t[o].interpolate=R(t[o].offset,$(s),{clamp:!1}),t[o].interpolatorOffsets=[...t[o].offset]),t[o].progress=J(0,1,t[o].interpolate(t[o].current))}function je(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let s=t;for(;s&&s!==e;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function Se(e,t,n,s={}){return{measure:()=>je(e,s.target,n),update:r=>{ge(e,n,r),(s.offset||s.target)&&Ee(e,n,s)},notify:()=>t(n)}}const g=new WeakMap,O=new WeakMap,j=new WeakMap,P=e=>e===document.documentElement?window:e;function T(e,{container:t=document.documentElement,...n}={}){let s=j.get(t);s||(s=new Set,j.set(t,s));const r=he(),o=Se(t,e,r,n);if(s.add(o),!g.has(t)){const i=()=>{for(const u of s)u.measure()},a=()=>{for(const u of s)u.update(Q.timestamp)},f=()=>{for(const u of s)u.notify()},d=()=>{m.read(i,!1,!0),m.read(a,!1,!0),m.update(f,!1,!0)};g.set(t,d);const b=P(t);window.addEventListener("resize",d,{passive:!0}),t!==document.documentElement&&O.set(t,fe(t,d)),b.addEventListener("scroll",d,{passive:!0})}const l=g.get(t);return m.read(l,!1,!0),()=>{var i;L(l);const a=j.get(t);if(!a||(a.delete(o),a.size))return;const f=g.get(t);g.delete(t),f&&(P(t).removeEventListener("scroll",f),(i=O.get(t))===null||i===void 0||i(),window.removeEventListener("resize",f))}}function ke({source:e,container:t,axis:n="y"}){e&&(t=e);const s={value:0},r=T(o=>{s.value=o[n].progress*100},{container:t,axis:n});return{currentTime:s,cancel:r}}const S=new Map;function U({source:e,container:t=document.documentElement,axis:n="y"}={}){e&&(t=e),S.has(t)||S.set(t,{});const s=S.get(t);return s[n]||(s[n]=Z()?new ScrollTimeline({source:t,axis:n}):ke({source:t,axis:n})),s[n]}function Le(e){return e.length===2}function F(e){return e&&(e.target||e.offset)}function ze(e,t){return Le(e)||F(t)?T(n=>{e(n[t.axis].progress,n)},t):D(e,U(t))}function Te(e,t){if(e.flatten(),F(t))return e.pause(),T(n=>{e.time=e.duration*n[t.axis].progress},t);{const n=U(t);return e.attachTimeline?e.attachTimeline(n,s=>(s.pause(),D(r=>{s.time=s.duration*r},n))):q}}function He(e,{axis:t="y",...n}={}){const s={axis:t,...n};return typeof e=="function"?ze(e,s):Te(e,s)}function B(e,t){ee(!!(!t||t.current))}const We=()=>({scrollX:p(0),scrollY:p(0),scrollXProgress:p(0),scrollYProgress:p(0)});function Me({container:e,target:t,layoutEffect:n=!0,...s}={}){const r=z(We);return(n?V:v.useEffect)(()=>(B("target",t),B("container",e),He((l,{x:i,y:a})=>{r.scrollX.set(i.current),r.scrollXProgress.set(i.progress),r.scrollY.set(a.current),r.scrollYProgress.set(a.progress)},{...s,container:e?.current||void 0,target:t?.current||void 0})),[e,t,JSON.stringify(s.offset)]),r}function Ne(e){const t=z(()=>p(e)),{isStatic:n}=v.useContext(te);if(n){const[,s]=v.useState(e);v.useEffect(()=>t.on("change",s),[])}return t}function G(e,t){const n=Ne(t()),s=()=>n.set(t());return s(),V(()=>{const r=()=>m.preRender(s,!1,!0),o=e.map(l=>l.on("change",r));return()=>{o.forEach(l=>l()),L(s)}}),n}const Oe=e=>e&&typeof e=="object"&&e.mix,Pe=e=>Oe(e)?e.mix:void 0;function Be(...e){const t=!Array.isArray(e[0]),n=t?0:-1,s=e[0+n],r=e[1+n],o=e[2+n],l=e[3+n],i=R(r,o,{mixer:Pe(o[0]),...l});return t?i(s):i}function Ce(e){E.current=[],e();const t=G(E.current,e);return E.current=void 0,t}function C(e,t,n,s){if(typeof e=="function")return Ce(e);const r=typeof t=="function"?t:Be(t,n,s);return Array.isArray(e)?A(e,r):A([e],([o])=>r(o))}function A(e,t){const n=z(()=>[]);return G(e,()=>{n.length=0;const s=e.length;for(let r=0;r<s;r++)n[r]=e[r].get();return t(n)})}const Ae=[{title:"ScrewTapp",description:"There were lots of apps to stream the jam band shows on archive.org, but none for the trove of DJ Screw mixtapes. So I made one. Currently in alpha, but you can check out the code on my GitHub.",tags:["React Native","Expo","Redux","TypeScript","RTK Query"],imageUrl:"/screwtapp.png",imageMobileUrl:null,url:"https://github.com/johnhamlin/screwtapp"},{title:"This Site",description:"Your classic, over-engineered personal portfolio site, built from scratch with my favorite tools and a few I wanted to try out.",tags:["Astro","TypeScript","MDX","Tailwind CSS","Framer Motion"],imageUrl:"/this-site.jpg",imageMobileUrl:null,url:"https://github.com/johnhamlin/johnhaml.in"},{title:"xkite",description:"Open source GUI for Apache Kafka prototyping, testing and deployment. Spins up containerized Kafka clusters, runs custom tests, and exports configs for deployment.",tags:["Next.js","Apache Kafka","Prometheus","Grafana","Docker","Java","Spring Boot"],imageUrl:"/xkite.png",imageMobileUrl:null,url:"https://xkite.io/"},{title:"Me v2.0",description:"In 2023, my wife and I took some time off to welcome twin boys and get to know the little guys.",tags:["Swaddling","Coffee","Ms. Rachel","Love","Earplugs"],imageUrl:"/version-2.jpg",imageMobileUrl:"/version-2-mobile.jpg",url:null}];function Ie(e){const t=v.useRef(null),{scrollYProgress:n}=Me({target:t,offset:["0 1","1.33 1"]}),s=C(n,[0,1],[.8,1]),r=C(n,[0,1],[.6,1]);return c.jsx(se.div,{ref:t,className:"group mb-3 last:mb-0 sm:mb-8",style:{scale:s,opacity:r},children:e.url?c.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:c.jsx(I,{...e})}):c.jsx(I,{...e})})}function I({title:e,description:t,tags:n,imageUrl:s,imageMobileUrl:r}){return c.jsxs("div",{className:"relative max-w-[42rem] overflow-hidden rounded-xl border border-black/5 bg-gray-100 transition hover:bg-gray-200 dark:bg-white/10 dark:text-white dark:hover:bg-white/20 sm:min-h-[18rem] sm:pr-8 sm:group-even:pl-8",children:[c.jsxs("div",{className:"flex h-full flex-col pb-7",children:[c.jsx("div",{className:"mb-2 h-[12rem] w-full overflow-hidden object-cover sm:hidden",children:c.jsx("img",{src:r||s,alt:e,className:"shrink-0"})}),c.jsxs("div",{className:"px-5 pt-4 sm:max-w-[50%] sm:pl-10 sm:pr-2 sm:pt-10 sm:group-even:ml-[18rem]",children:[c.jsx("h3",{className:"text-2xl font-semibold",children:e}),c.jsx("p",{className:"mt-2 leading-relaxed text-gray-700 dark:text-white/70",children:t}),c.jsx("ul",{className:"mb-0 mt-4 flex flex-wrap gap-2 self-end sm:mt-5",children:n.map(o=>c.jsx("li",{className:"rounded-full bg-black/[0.7] px-3 py-1 text-[0.7rem] uppercase tracking-wider text-white dark:text-white/70",children:o},o))})]})]}),c.jsx("img",{src:s,alt:e,className:"absolute -right-40 top-8 hidden w-[28.25rem] rounded-t-lg shadow-2xl transition group-even:-left-40 group-even:right-[initial] group-hover:-translate-x-3 group-hover:translate-y-3 group-hover:-rotate-2 group-hover:scale-[1.04] group-even:group-hover:translate-x-3 group-even:group-hover:translate-y-3 group-even:group-hover:rotate-2 sm:block"})]})}function Ye(){const{ref:e}=ne("Projects",.5);return c.jsxs("section",{ref:e,id:"projects",className:"mb-28 scroll-mt-28",children:[c.jsx(Y,{children:"My Projects"}),c.jsx("div",{children:Ae.map(t=>c.jsx(Ie,{...t},t.title))})]})}export{Ye as default};
